/* direitaCS.css (arquivo completo) */

.lado-direito {
  width: 35%;
  background-color: #171717;
  border-radius: 8px;
  padding: 12px;
  display: flex;
  flex-direction: column;
  box-sizing: border-box;
  min-height: 680px;
  color: #e6e6e6;
}

/* Abas */
.abas {
  display: grid;
  grid-template-columns: repeat(3, auto);
  gap: 18px;
  margin-bottom: 14px;
  align-items: center;
  align-content: start;
}
.abas button:nth-child(1) { grid-column: 1; grid-row: 1; }
.abas button:nth-child(2) { grid-column: 2; grid-row: 1; }
.abas button:nth-child(3) { grid-column: 1; grid-row: 2; }
.abas button:nth-child(4) { grid-column: 2; grid-row: 2; }
.abas button:nth-child(5) { grid-column: 3; grid-row: 2; }

.abas button {
  background-color: transparent;
  border: none;
  color: #cfcfcf;
  padding: 8px 10px;
  border-radius: 4px;
  cursor: pointer;
  font-weight: 700;
  letter-spacing: 0.4px;
  font-size: 14px;
  position: relative;
  white-space: nowrap;
}
.abas button.ativa { color: #fff; }
.abas button.ativa::after {
  content: "";
  position: absolute;
  left: 0;
  right: 0;
  bottom: -10px;
  height: 3px;
  background: linear-gradient(90deg,#9c27b0,#7b1fa2);
  border-radius: 4px;
  margin: 0 auto;
  width: 60%;
}

.conteudo { background-color: transparent; padding: 0; color: #e6e6e6; overflow:auto; flex: 1 1 auto; }

/* cards base */
.card { background: #1f1f1f; border-radius: 8px; padding: 10px; margin-bottom: 12px; border: 1px solid rgba(255,255,255,0.03); }
.card-header { display:flex; justify-content:space-between; align-items:center; }
.caret { display:inline-block; width:22px; text-align:center; margin-right:8px; color:#9c27b0; font-size:18px; vertical-align:middle; }

/* Ajuste do caret para usar ᐱ / ᐯ e tamanho */
.caret { font-size:20px; line-height:1; color:#9c27b0; }

/* título do card */
.card-title { font-weight:800; font-size:16px; color:#fff; white-space:normal; word-break:break-word; overflow:hidden; display:block; max-width: 100%; }
.card-sub { font-size:12px; color:#bdbdbd; }

/* compact header */
.card-header.compact { padding:6px 4px; }
.card-header.compact .left { display:flex; align-items:center; gap:8px; cursor:pointer; min-width:0; }
.title-block { display:flex; flex-direction:column; min-width:0; overflow:hidden; }
.mini-sub { font-size:13px; color:#b39cff; }

/* hab card */
.hab-card .card-header { padding:10px; border-bottom: 1px solid rgba(255,255,255,0.03); display:flex; justify-content:space-between; align-items:center; }
.hab-card .card-header .left { display:flex; align-items:center; gap:8px; cursor:pointer; min-width:0; }

.header-equip { display:flex; align-items:center; }
.header-equip input[type="checkbox"] { display:none; }
.square-check { width:34px; height:34px; border-radius:6px; border:1px solid rgba(255,255,255,0.06); display:inline-block; }
.header-equip input[type="checkbox"]:checked + .square-check { background:#9c27b0; border-color:#9c27b0; }
.square-check::after { content:'✓'; color:transparent; font-weight:800; display:block; text-align:center; line-height:34px; }
.header-equip input[type="checkbox"]:checked + .square-check::after { color:#fff; }

.card-body { margin-top:10px; color:#ddd; font-size:14px; }

/* spell header */
.spell-header { padding:12px; align-items:flex-start; border-bottom: 2px solid rgba(156,39,176,0.08); }
.spell-left { display:flex; align-items:center; gap:8px; cursor:pointer; min-width:0; }

/* Deixa o nome por extenso (não truncar) */
.spell-title { font-size:18px; font-weight:800; color:#fff; white-space:normal; word-break:break-word; }

/* right side do header da magia */
.spell-right { display:flex; align-items:center; gap:12px; }

/* level number (caixa pequena) - mantido definindo estilo caso precise, mas não usado no header principal */
.spell-level-num {
  min-width:36px;
  height:36px;
  border-radius:6px;
  background:#111;
  border:1px solid rgba(255,255,255,0.03);
  display:inline-flex;
  align-items:center;
  justify-content:center;
  font-weight:800;
  color:#ddd;
  margin-right:8px;
}

/* damage highlight + dado.png */
.spell-damage { font-size:18px; font-weight:800; color:#9c27b0; display:flex; align-items:center; gap:8px; }
.dice-img { width:18px; height:18px; }

/* pill (usado para Escola) */
.pill { display:inline-flex; align-items:center; gap:8px; margin-bottom:10px; padding:6px 10px; background:#fff; color:#111; font-weight:700; border-radius:6px; }

/* pequeno badge dentro do pill para o nível */
.pill .pill-level {
  background:#111;
  color:#ddd;
  padding:4px 8px;
  border-radius:6px;
  font-weight:800;
  font-size:13px;
}

/* spell attributes */
.spell-attrs { margin-top:8px; color:#ddd; display:grid; grid-template-columns: 1fr 1fr; gap:6px; }
.purple { color:#9c27b0; font-weight:700; }

/* componente / material block */
.comp-block { display:flex; flex-direction:column; gap:6px; min-width:120px; }
.comp-title { font-size:13px; color:#cfcfcf; font-weight:700; }
.comp-letters { display:flex; gap:6px; align-items:center; }
.comp-letter { display:inline-flex; width:26px; height:26px; border-radius:6px; align-items:center; justify-content:center; background:#1a1a1a; border:1px solid rgba(255,255,255,0.03); color:#bbb; font-weight:800; }
.comp-letter.on { background:#9c27b0; color:#fff; border-color:#9c27b0; }
.comp-material { font-size:13px; color:#ddd; }

/* controls / buttons */
.controls-row { display:flex; align-items:center; gap:12px; margin-bottom:12px; }
.controls-row input { flex:1; padding:10px; background:#111; border:1px solid #272727; color:#ddd; border-radius:4px; min-width:0; }
.right-controls { display:flex; gap:10px; align-items:center; }
.dt-magias { display:flex; flex-direction:column; align-items:flex-end; gap:6px; }
.dt-magias label { font-size:12px; color:#cfcfcf; font-weight:700; }
.dt-magias input { width:64px; padding:6px; background:#0f0f0f; border:1px solid #262626; color:#eee; border-radius:6px; text-align:center; }
.btn-add { background:#9c27b0; color:#fff; border:none; padding:8px 14px; border-radius:6px; cursor:pointer; font-weight:700; }

/* catalog */
.catalog-list { padding:0; }
.plus-btn { background:#9c27b0; border:none; color:#fff; width:38px; height:38px; border-radius:6px; font-size:18px; cursor:pointer; }
.plus-btn.small-add { width:34px; height:34px; }

/* big Magias button (canto superior direito na aba Magias) */
.magias-big-btn {
  position:absolute;
  right:12px;
  top:8px;
  padding:10px 16px;
  border-radius:8px;
  border:2px solid #9c27b0;
  background:transparent;
  color:#fff;
  font-weight:800;
  cursor:pointer;
  z-index:2;
}

/* modal (nova magia) */
.spell-modal-overlay { position:fixed; inset:0; background:rgba(0,0,0,0.7); display:flex; align-items:flex-start; justify-content:center; padding:40px; z-index:10000; }
.spell-modal { background:#0f0f0f; border-radius:8px; width:760px; max-height:90vh; overflow:auto; padding:18px; border:1px solid rgba(255,255,255,0.04); }
.spell-modal .modal-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:12px; }
.spell-modal .modal-body { display:flex; flex-direction:column; gap:10px; }
.spell-modal label { font-weight:700; color:#ddd; font-size:13px; margin-top:6px; }
.spell-modal input[type="text"], .spell-modal input[type="number"], .spell-modal textarea, .spell-modal select { width:100%; padding:8px; background:#111; border:1px solid #272727; color:#eee; border-radius:6px; box-sizing:border-box; }
.spell-modal .modal-row { display:flex; gap:12px; }
.spell-modal .modal-row > div { flex:1; }
.modal-actions { display:flex; gap:12px; justify-content:flex-end; margin-top:12px; }

/* links */
a.remover-item, a.remover-hab, a.remover-spell { color:#c43f3f; text-decoration:none; font-weight:700; margin-right:8px; }
a.editar-item, a.editar-hab, a.editar-spell { color:#2e7d32; text-decoration:none; font-weight:700; }

/* small utilities */
.card-meta { font-size:13px; color:#d6d6d6; }
.empty-tip { color:#bdbdbd; padding:12px; }

/* ==================== CATALOGO GRANDE (TELA IGUAL À IMAGEM) ==================== */

.catalog-overlay-large {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.7);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index: 10050; /* bem acima do modal */
  padding: 20px;
}

.catalog-large {
  width: 920px;
  max-width: calc(100% - 40px);
  max-height: 90vh;
  background: #121212;
  border-radius: 10px;
  padding: 18px;
  box-sizing: border-box;
  border: 1px solid rgba(255,255,255,0.04);
  overflow: hidden;
  display:flex;
  flex-direction:column;
  gap:8px;
}

.catalog-large-header {
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:12px;
}

.catalog-large-header h3 {
  margin:0;
  color:#fff;
  font-size:20px;
  font-weight:800;
}

.catalog-large-close {
  cursor:pointer;
  color:#ddd;
  font-size:20px;
  padding:6px 10px;
  border-radius:6px;
  background:transparent;
  border: 1px solid rgba(255,255,255,0.02);
}

.catalog-large-filters {
  display:flex;
  gap:8px;
  flex-wrap:wrap;
  padding:6px 0;
  max-width:100%;
}

.circle-filter {
  background:#161616;
  color:#dcdcdc;
  border:1px solid rgba(255,255,255,0.03);
  padding:6px 10px;
  border-radius:20px;
  font-weight:700;
  cursor:pointer;
}
.circle-filter.active {
  background:#2b2b2b;
  border-color:#9c27b0;
  color:#fff;
  box-shadow: 0 2px 6px rgba(156,39,176,0.12);
}

/* search */
.catalog-large-search {
  margin-top:6px;
}
.catalog-large-search input {
  width:100%;
  padding:12px;
  background:#0f0f0f;
  border:1px solid #262626;
  border-radius:6px;
  color:#eee;
  box-sizing:border-box;
}

/* list */
.catalog-large-list {
  margin-top:10px;
  overflow:auto;
  padding-right:6px;
  display:flex;
  flex-direction:column;
  gap:8px;
}

/* catalog card (igual ao estilo do screenshot) */
.catalog-card-item {
  background:#1b1b1b;
  border:1px solid rgba(255,255,255,0.03);
  border-radius:8px;
  padding:10px;
}
.catalog-card-header { display:flex; justify-content:space-between; align-items:center; }
.catalog-card-toggle {
  background:transparent;
  border:none;
  color:#9c27b0;
  font-weight:800;
  cursor:pointer;
  font-size:18px;
}
.catalog-card-title { font-weight:800; color:#fff; font-size:16px; }
.catalog-card-dmg { color:#9c27b0; font-weight:800; }

/* corpo do card */
.catalog-card-body { margin-top:10px; color:#ddd; display:block; }

/* pequenas adaptações responsivas */
@media (max-width: 1100px) {
  .lado-direito { width: 100%; order: 3; margin-top:12px; }
  .catalog-large { width: calc(100% - 40px); }
  .spell-modal { width: calc(100% - 40px); padding:12px; }
}

/* Esconde o catálogo embutido dentro da aba Magias */
.lado-direito .spells-wrapper > .catalog-list.card {
  display: none;
}

/* ==================== Ajustes específicos para Minhas Magias ==================== */

/* checkbox menor para 'ativar magias' */
.check-ativar input[type="checkbox"] { display:none; }
.check-ativar .square-check {
  width:20px;
  height:20px;
  border-radius:4px;
  border:1px solid rgba(255,255,255,0.06);
  display:inline-block;
  line-height:20px;
  text-align:center;
  font-weight:800;
}
.check-ativar input[type="checkbox"]:checked + .square-check {
  background:#9c27b0;
  border-color:#9c27b0;
}
.check-ativar .square-check::after {
  content:'✓';
  color:transparent;
  display:block;
  line-height:20px;
  font-size:14px;
}
.check-ativar input[type="checkbox"]:checked + .square-check::after { color:#fff; }

/* garante que o header da magia clique só na parte apropriada */
.spell-left { min-width:0; flex:1; }

/* evita truncar nomes de magias */
.spell-card .spell-title { white-space:normal; }

/* top padding do bloco de magias */
.spells-wrapper { position:relative; }

/* ====== Estilos para a tag de classe (pequena, à direita do bloco superior) ====== */

/* apresentação simples da classe já salva no card */
.class-box-display {
  min-width:84px;
  height:32px;
  background:#111;
  border:1px solid rgba(255,255,255,0.04);
  border-radius:6px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  font-weight:800;
  color:#ddd;
  padding:4px 8px;
  box-sizing:border-box;
}

/* estilos para o seletor de classe dentro do modal (expandível) */
.class-select-root { position:relative; }
.class-select-toggle {
  min-width:130px;
  height:36px;
  background:#111;
  border:1px solid rgba(255,255,255,0.04);
  border-radius:6px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:8px;
  padding:6px 10px;
  cursor:pointer;
  color:#ddd;
  font-weight:700;
}
.class-select-toggle .caret-small { color:#9c27b0; margin-left:6px; font-size:14px; }

/* opções (dropdown) */
.class-select-options {
  position:absolute;
  right:0;
  top:44px;
  background:#121212;
  border:1px solid rgba(255,255,255,0.04);
  border-radius:8px;
  padding:8px;
  box-shadow: 0 8px 20px rgba(0,0,0,0.6);
  z-index: 12000;
  min-width:160px;
}
.class-select-options button {
  display:block;
  width:100%;
  background:transparent;
  border:none;
  color:#ddd;
  text-align:left;
  padding:8px 10px;
  border-radius:6px;
  cursor:pointer;
  font-weight:700;
}
.class-select-options button:hover { background:rgba(156,39,176,0.06); color:#fff; }

/* pequena label dentro do modal abaixo do toggle */
.class-select-label { font-size:12px; color:#cfcfcf; margin-top:6px; font-weight:700; text-align:right; }
